# 배포 링크

🔗https://nohgh.github.io/front_5th_chapter2-2/index.refactoring.html

## 과제의 핵심취지

- React의 hook 이해하기
- 함수형 프로그래밍에 대한 이해
- 액션과 순수함수의 분리

## 과제에서 꼭 알아가길 바라는 점

- 엔티티를 다루는 상태와 그렇지 않은 상태 - cart, isCartFull vs isShowPopup
- 엔티티를 다루는 컴포넌트와 훅 - CartItemView, useCart(), useProduct()
- 엔티티를 다루지 않는 컴포넌트와 훅 - Button, useRoute, useEvent 등
- 엔티티를 다루는 함수와 그렇지 않은 함수 - calculateCartTotal(cart) vs capaitalize(str)

### 기본과제

- Component에서 비즈니스 로직을 분리하기
- 비즈니스 로직에서 특정 엔티티만 다루는 계산을 분리하기
- 뷰데이터와 엔티티데이터의 분리에 대한 이해
- entities -> features -> UI 계층에 대한 이해

- [x] Component에서 사용되는 Data가 아닌 로직들은 hook으로 옮겨졌나요?
- [x] 주어진 hook의 책임에 맞도록 코드가 분리가 되었나요?
- [x] 계산함수는 순수함수로 작성이 되었나요?
- [x] Component에서 사용되는 Data가 아닌 로직들은 hook으로 옮겨졌나요?
- [x] 주어진 hook의 책임에 맞도록 코드가 분리가 되었나요?
- [x] 계산함수는 순수함수로 작성이 되었나요?
- [x] 특정 Entitiy만 다루는 함수는 분리되어 있나요?
- [x] 특정 Entitiy만 다루는 Component와 UI를 다루는 Component는 분리되어 있나요?
- [x] 데이터 흐름에 맞는 계층구조를 이루고 의존성이 맞게 작성이 되었나요?

### 심화과제

- 재사용 가능한 Custom UI 컴포넌트를 만들어 보기
- 재사용 가능한 Custom 라이브러리 Hook을 만들어 보기
- 재사용 가능한 Custom 유틸 함수를 만들어 보기
- 그래서 엔티티와는 어떤 다른 계층적 특징을 가지는지 이해하기

- [x] UI 컴포넌트 계층과 엔티티 컴포넌트의 계층의 성격이 다르다는 것을 이해하고 적용했는가?
- [x] 엔티티 Hook과 라이브러리 훅과의 계층의 성격이 다르다는 것을 이해하고 적용했는가?
- [x] 엔티티 순수함수와 유틸리티 함수의 계층의 성격이 다르다는 것을 이해하고 적용했는가?

## 과제 셀프회고

<!-- 과제에 대한 회고를 작성해주세요 -->

### 과제를 하면서 내가 제일 신경 쓴 부분은 무엇인가요?

- **1. 엔티티가 무엇인지, 액션과 계산을 분리하는 것에 큰 신경을 썼습니다.**

특히 엔티티에 대한 개념을 듣고 이해하는데 꽤 추상적으로 다가와서 어떤 데이터가 엔티티인가, 엔티티가 아닌가를 이해하기 노렸습니다.

- **2. component 구조를 작성할 때 여러 구조를 적용했습니다.**

![image](https://github.com/user-attachments/assets/e45f9ff4-eec9-478e-b6f1-48e6a99d6ebe)
위의 사진은 기존의 폴더구조입니다. 관리자인 admin에서 사용되는 Product에서 폴더 구조가 겹치고,

엔티티인 cart, product와 결이 다른 느낌인 admin폴더가 위치되는게 폴더를 분리한 기준을 쉽게 알기 어렵다고 생각했습니다. 따라서 밑의 사진과 같이 폴더구조를 작성했습니다.

![image](https://github.com/user-attachments/assets/be3321e5-ccd9-46bb-a5c2-2f909f4a92f8)

변경된 구조를 설명드리자면, cart, product, coupon 엔티티 기준으로 분리하여 컴포넌트를 위치시켰습니다.

- **3. 커스텀 훅 분리 기준**
  커스텀 훅을 기존에는 hooks/ 내부에 위치시켰습니다.
  해당 방식에서는 모든 커스텀훅이 관리되기 때문에 한 눈에 보기 어렵고, 관심도와 중요도를 파악하기 어려웠습니다.

따라서 밑의 폴더 구조로 커스텀훅을 작성해봤습니다.

![image](https://github.com/user-attachments/assets/f82bdc62-5e9a-414f-8d47-b297e0c3c11e)

밑의 구조로 변경하니 엔티티와 피처로 관심사를 분리할 수 있다는 장점이 있었습니다.

하지만 Product와 같이 여러 페이지에서 각각의 커스텀훅을 생성해야하는 경우, 하나의 엔티티에서 관리하다보니 어떤 훅이 중요한 훅인지, 어디서 사용되는지 알기 어렵다는 측면도 있었습니다.

다양한 폴더구조를 적용시켰지만, 아직 모든 측면에서 만족스러운 폴더구조는 찾지 못한것 같습니다.

다음 주차인 FSD에서 힌트를 얻고 싶습니다!

- **4. Props Drilling을 만나고 적용한 Context api**

Props Drilling을 과제를 하다가 한번, 두번 만나다 보니 앞으로 꽤나 피곤하겠구나 싶었습니다.

하지만 아직 Context의 문법에 비교적 미숙하다고 생각되어 Context 도입을 꺼려하게 되었습니다.

그렇게 Props로 상태, 함수를 내려주는 방식으로 과제를 진행하던 중, Cart관련된 페이지에서 컴포넌트를 분리하다가 Props를 매번 내려주고 타입을 정의하는데 큰 피곤함을 느껴, 시간이 걸리더라도 Props Drilling을 해결하는 Context를 적용해보자! 하였습니다.

따라서 기존의 Props를 내려주는 방식을 (밑의 사진)

![image](https://github.com/user-attachments/assets/4de4b107-02f8-4bff-9faa-6186b5ff923f)

다음과 같이 Provider를 적용하여 Props를 전달하지 않고 useContext()를 사용하는 방식으로 적용하여 Props Drilling을 해결하고, Context에서 값을 가져와 사용하는 방식으로 사용했습니다.

![image](https://github.com/user-attachments/assets/49141392-9b2d-439c-85c1-c61e55a61478)

중간에 useCartContext로 함수를 받아와야 하는데 기존의 useCart에서 함수를 받아오는 탓에 꽤 많은 시간을 허비했습니다만,
Context를 적용함으로써 얻을 수 있는 장점을 체감할 수 있었습니다.

### 과제를 다시 해보면 더 잘 할 수 있었겠다 아쉬운 점이 있다면 무엇인가요?

이번 과제가 저에게는 유독 갈피를 어렵게 잡았던 주제 같습니다.

엔티티, 액션, 계층이 세가지 키워드가 저에게 이번 과제를 진행하는데 많은 혼돈을 주었습니다.

다음에 이 과제를 다시 접한다면, 위의 키워드에 대한 확실한 이해를 토대로

조금이나마 더 순조롭게 과제를 진행할 수 있지 않을까 합니다.

이번 주차를 진행하면서 처음 자바에서 인터페이스, 상속을 만난것 같은 막막한 느낌도 받았습니다. 이러한 느낌이 안좋다. 라기 보다는

성장할 수 있는 좋은 기회를 만난것 같아 pr을 적는 이 시점에는 오히려 좋다.라고 생각했습니다.

### 리뷰 받고 싶은 내용이나 궁금한 것에 대한 질문 편하게 남겨주세요 :)

- 과제 관련

  - Context에 대한 개념을 이번 항해에서 제대로 접하게 되었지만, 아직 궁금한 점이 많습니다.

  먼저 Context에 대해 공부하다보니, Context는 전역관리로 사용되기 보다는 의존성을 주입하는 형태로 사용되는것을 배웠습니다.

  하지만 흔히 사용되는 Zustnad, Zotai로도 의존성 주입이 가능하고, 또 Context에서 상태가 변경될 때 발생되는 렌더링을 막을 수 있는 점에서 Context를 사용할 이유가 있나? 하는 생각이 들었습니다.

  Context를 사용하는 경우와, 전역관리로 상태를 관리하는 명확한 기준이 있는지 알고 싶습니다.

- 과제 관련 X
  - 저는 앞으로 오래 개발을 하고싶은 학생입니다.
  지금 개발을 하는 이유는 내가 만든 결과물이 남에게 도움을 줄 수 있다는 뿌듯함(이 뿌듯함을 느낄 수 있기에 프론트를 좋아합니다.), 재미있는 프로젝트를 만나서 몰입하는 것에 대한 즐거움, 등으로 개발을 하고 있습니다.
  하지만 앞으로 개발을 하고 회사를 다니다 보면 , 지금 재미있는 개발이 재미가 없어지는 순간이 올것이라고 생각이 듭니다.
  먼 미래의 일이고 그렇게 되지 않을 수 있겠지만 오랜 시간 개발을 해오신 코치님의 의견이 궁금합니다.
  오래 개발을 하기 위해서는 어떤 마음으로 개발을 하면 좋을까요, 또 혹시 코치님도 이러한 경험이 있으신지 있으시다면 어떻게 해결하셨는지가 궁금합니다.
